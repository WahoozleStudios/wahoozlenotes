<!DOCTYPE html>
<html>
<head>
    <title>Wahoozle Notes</title>
</head>
<body>
    <input type="text" id="textInput" placeholder="Enter note content">
    <button id="writeButton">Write</button>
    <button id="readButton">Read</button>
    <div id="output"></div>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
        import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";
    
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID",
            measurementId: "YOUR_MEASUREMENT_ID"
        };
    
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const firestore = getFirestore(app);
        
        function readFunc() {
            const docRef = doc(firestore, "notes", "note1"); // Assuming "notes" is the collection name and "note1" is the document ID
            getDoc(docRef)
                .then((doc) => {
                    if (doc.exists()) {
                        const data = doc.data();
                        const output = "DOCUMENT DATA: \n" + data.title + "\n" + data.content;
                        document.getElementById("output").innerText = output;
                    } else {
                        document.getElementById("output").innerText = "No such document!";
                    }
                })
                .catch((error) => {
                    document.getElementById("output").innerText = "Error getting document: " + error;
                });
        }
        
        function writeFunc() {
            const docRef = doc(firestore, "notes", "note1"); 
            const textInput = document.getElementById("textInput");
            const data = {
                title: "My Note",
                content: textInput.value
            };
            setDoc(docRef, data)
                .then(() => {
                    console.log("Document successfully written!");
                })
                .catch((error) => {
                    console.error("Error writing document:", error);
                });
        }
        
        var readButtonId = document.getElementById("readButton");
        readButtonId.onclick = readFunc;
        
        var writeButtonId = document.getElementById("writeButton");
        writeButtonId.onclick = writeFunc;
    </script>
</body>
</html>
